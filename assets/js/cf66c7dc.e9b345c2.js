"use strict";(self.webpackChunkzentcash_docs=self.webpackChunkzentcash_docs||[]).push([[6857],{7334:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>r,contentTitle:()=>o,default:()=>d,frontMatter:()=>l,metadata:()=>a,toc:()=>h});const a=JSON.parse('{"id":"use/wallets-guides/advanced-wallets/subwallets","title":"Subwallets","description":"Lets start with the obvious question.","source":"@site/docs/use/wallets-guides/advanced-wallets/subwallets.md","sourceDirName":"use/wallets-guides/advanced-wallets","slug":"/use/wallets-guides/advanced-wallets/subwallets","permalink":"/docs/use/wallets-guides/advanced-wallets/subwallets","draft":false,"unlisted":false,"editUrl":"https://github.com/ZentCashFoundation/zentcash-docs/tree/main/docs/use/wallets-guides/advanced-wallets/subwallets.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Subwallets","sidebar_position":4},"sidebar":"useSidebar","previous":{"title":"Using Wallet API","permalink":"/docs/use/wallets-guides/advanced-wallets/using-wallet-api"},"next":{"title":"Making a Paper Wallet","permalink":"/docs/use/wallets-guides/making-a-paper-wallet"}}');var n=t(4848),i=t(8453);const l={title:"Subwallets",sidebar_position:4},o="Subwallets",r={},h=[{value:"What are subwallets?",id:"what-are-subwallets",level:2},{value:"Why would I want to use subwallets?",id:"why-would-i-want-to-use-subwallets",level:2},{value:"Why is syncing subwallets faster?",id:"why-is-syncing-subwallets-faster",level:3},{value:"What are the downsides of using subwallets?",id:"what-are-the-downsides-of-using-subwallets",level:2},{value:"Can I give out the private keys to subwallets?",id:"can-i-give-out-the-private-keys-to-subwallets",level:2}];function u(e){const s={em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"subwallets",children:"Subwallets"})}),"\n",(0,n.jsx)(s.p,{children:"Lets start with the obvious question."}),"\n",(0,n.jsx)(s.h2,{id:"what-are-subwallets",children:"What are subwallets?"}),"\n",(0,n.jsx)(s.p,{children:"Subwallets are a way to use multiple distinct addresses in one wallet 'container'. Each subwallet has the same, shared private and public view keys as other wallets in the container; however, they have different private and public spend keys."}),"\n",(0,n.jsx)(s.h2,{id:"why-would-i-want-to-use-subwallets",children:"Why would I want to use subwallets?"}),"\n",(0,n.jsx)(s.p,{children:"The first reason is simple: It allows each of your users to have their own unique address, without having to fire up a wallet-api or zent-service instance for each."}),"\n",(0,n.jsx)(s.p,{children:"The second reason is performance. Syncing 1000 subwallets is nearly as fast as syncing 1 wallet, and far, far faster than syncing 1000 unrelated wallets."}),"\n",(0,n.jsx)(s.h3,{id:"why-is-syncing-subwallets-faster",children:"Why is syncing subwallets faster?"}),"\n",(0,n.jsx)(s.p,{children:"Remember how each subwallet has the same, shared private and public view keys?"}),"\n",(0,n.jsx)(s.p,{children:"Well, when you sync a wallet, you start by downloading a range of blocks from the daemon, then, you perform a quite slow 'derivation' using your private view key, and the transaction public key. Finally, you check if the public spend key generated in this process matches one of your wallets public spend keys."}),"\n",(0,n.jsx)(s.p,{children:"Since you are using the same private view key for each wallet, we only have to perform this expensive derivation once for each transaction, instead of 1000 times for each wallet."}),"\n",(0,n.jsx)(s.p,{children:"We then just check if the public spend key generated matches one of the 1000 subwallets public spend key, which is very fast."}),"\n",(0,n.jsx)(s.h2,{id:"what-are-the-downsides-of-using-subwallets",children:"What are the downsides of using subwallets?"}),"\n",(0,n.jsxs)(s.p,{children:["Because each subwallet shares the same private view key, they also share the same ",(0,n.jsx)(s.em,{children:"public"})," view key. Since the public address is the combination of the public spend key, public view key, and a checksum in base58, the first half of every address from the same subwallet container will be identical. This makes it easy to detect if a specific address belongs to your service."]}),"\n",(0,n.jsx)(s.p,{children:"Another downside is that you cannot give out mnemonic seeds to a subwallet address. A mnemonic seed is just a friendly representation of a private spend key. When you import a mnemonic, this private spend key is hashed to derive the private view key. Since subwallets must all have the same private view key, this process is not possible."}),"\n",(0,n.jsx)(s.h2,{id:"can-i-give-out-the-private-keys-to-subwallets",children:"Can I give out the private keys to subwallets?"}),"\n",(0,n.jsx)(s.p,{children:"Yes! You can safely give out the private spend key and shared private view key of each subwallet to your users."}),"\n",(0,n.jsxs)(s.p,{children:["However, there is one caveat - since every wallet has the same shared private view key, if anyone knows the address of another user of your service, they will be able to import this into a ",(0,n.jsx)(s.em,{children:"view only wallet"}),". This allows them to view only ",(0,n.jsx)(s.em,{children:"incoming"})," transactions of this wallet. They cannot spend the funds, or see any outgoing transactions the wallet has sent."]}),"\n",(0,n.jsx)(s.p,{children:"If you're wondering why a view wallet cannot see outgoing transactions, this is because without a private spend key you cannot generate key images. The generated key images are then included in outgoing transactions sent, and so we can detect an outgoing transaction made by us if the key images match ones we have previously generated."})]})}function d(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>l,x:()=>o});var a=t(6540);const n={},i=a.createContext(n);function l(e){const s=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),a.createElement(i.Provider,{value:s},e.children)}}}]);